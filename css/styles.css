/* ═══════════════════════════════════════════════════════════════════════════
   PROMPT HUB - MAIN STYLESHEET
   Theme: Cyber AI (Dark Mode)
   ═══════════════════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────────────────────────────────────────────
   BASE STYLES
   ───────────────────────────────────────────────────────────────────────────── */

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}

/* Selection color */
::selection {
    background-color: rgba(99, 102, 241, 0.3);
    /* indigo-500 con opacidad */
    color: #e2e8f0;
    /* slate-200 */
}

/* Scrollbar personalizado (Webkit) */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #1e293b;
    /* slate-800 */
}

::-webkit-scrollbar-thumb {
    background: #475569;
    /* slate-600 */
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #64748b;
    /* slate-500 */
}

/* ─────────────────────────────────────────────────────────────────────────────
   FOLDER TAB CARDS - Efecto de carpeta
   ───────────────────────────────────────────────────────────────────────────── */
.folder-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.folder-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.4);
}

/* ─────────────────────────────────────────────────────────────────────────────
   HERO BACKGROUND EFFECTS
   ───────────────────────────────────────────────────────────────────────────── */
.hero-glow {
    animation: pulse-glow 4s ease-in-out infinite alternate;
}

@keyframes pulse-glow {
    0% {
        opacity: 0.2;
        transform: scale(1);
    }

    100% {
        opacity: 0.35;
        transform: scale(1.1);
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   BUTTON EFFECTS
   ───────────────────────────────────────────────────────────────────────────── */
.btn-primary {
    position: relative;
    overflow: hidden;
}

.btn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg,
            transparent,
            rgba(255, 255, 255, 0.1),
            transparent);
    transition: left 0.5s ease;
}

.btn-primary:hover::before {
    left: 100%;
}

/* ─────────────────────────────────────────────────────────────────────────────
   NAVBAR EFFECTS
   ───────────────────────────────────────────────────────────────────────────── */
.nav-link {
    position: relative;
}

.nav-link::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, #6366f1, #8b5cf6);
    /* indigo to violet */
    transition: width 0.3s ease;
}

.nav-link:hover::after {
    width: 100%;
}

/* ─────────────────────────────────────────────────────────────────────────────
   CODE BLOCKS (Para vista de edición)
   ───────────────────────────────────────────────────────────────────────────── */
.code-block {
    font-family: 'JetBrains Mono', monospace;
    background-color: #020617;
    /* slate-950 */
    border: 1px solid #334155;
    /* slate-700 */
    border-radius: 0.75rem;
}

/* Syntax Highlighting simulado */
.code-keyword {
    color: #c084fc;
    /* violet-400 */
}

.code-string {
    color: #2dd4bf;
    /* teal-400 */
}

.code-comment {
    color: #64748b;
    /* slate-500 */
    font-style: italic;
}

.code-function {
    color: #60a5fa;
    /* blue-400 */
}

.code-variable {
    color: #f472b6;
    /* pink-400 */
}

/* ─────────────────────────────────────────────────────────────────────────────
   MODAL OVERLAY
   ───────────────────────────────────────────────────────────────────────────── */
.modal-overlay {
    animation: fadeIn 0.2s ease;
}

.modal-content {
    animation: slideUp 0.3s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   SIDEBAR
   ───────────────────────────────────────────────────────────────────────────── */
.sidebar-link {
    transition: all 0.2s ease;
}

.sidebar-link:hover {
    background-color: rgba(99, 102, 241, 0.1);
    /* indigo-500 con opacidad */
    border-left-color: #6366f1;
    /* indigo-500 */
}

.sidebar-link.active {
    background-color: rgba(99, 102, 241, 0.15);
    border-left-color: #6366f1;
    color: #a5b4fc;
    /* indigo-300 */
}

/* ─────────────────────────────────────────────────────────────────────────────
   GRAPH VIEW (Nodos del cerebro)
   ───────────────────────────────────────────────────────────────────────────── */
.graph-node {
    transition: all 0.3s ease;
}

.graph-node:hover {
    transform: scale(1.1);
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
}

.graph-line {
    stroke: #475569;
    /* slate-600 */
    stroke-width: 2;
    opacity: 0.5;
}

/* ─────────────────────────────────────────────────────────────────────────────
   INPUT FOCUS STATES
   ───────────────────────────────────────────────────────────────────────────── */
.input-cyber {
    transition: all 0.2s ease;
}

.input-cyber:focus {
    outline: none;
    border-color: #8b5cf6;
    /* violet-500 */
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

/* ─────────────────────────────────────────────────────────────────────────────
   PILLS / TAGS (Filtros)
   ───────────────────────────────────────────────────────────────────────────── */
.pill-tag {
    transition: all 0.2s ease;
}

.pill-tag:hover {
    transform: translateY(-2px);
}

.pill-tag.active {
    background-color: #6366f1;
    /* indigo-500 */
    color: white;
}

/* ─────────────────────────────────────────────────────────────────────────────
   RESPONSIVE UTILITIES
   ───────────────────────────────────────────────────────────────────────────── */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }

    .sidebar.open {
        transform: translateX(0);
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   LOADING STATES
   ───────────────────────────────────────────────────────────────────────────── */
.skeleton {
    background: linear-gradient(90deg,
            #1e293b 25%,
            #334155 50%,
            #1e293b 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% {
        background-position: 200% 0;
    }

    100% {
        background-position: -200% 0;
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   BADGE PULSE ANIMATION
   ───────────────────────────────────────────────────────────────────────────── */
.pulse-dot {
    animation: pulse-dot 2s ease-in-out infinite;
}

@keyframes pulse-dot {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.5;
        transform: scale(1.2);
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   EDITOR HEADING STYLES
   ───────────────────────────────────────────────────────────────────────────── */
.editor-h1 {
    color: #10b981;
    /* emerald-500 - Verde */
    font-size: 1.875rem;
    font-weight: 700;
    margin: 1rem 0 0.5rem;
}

.editor-h2 {
    color: #eab308;
    /* yellow-500 - Amarillo */
    font-size: 1.5rem;
    font-weight: 600;
    margin: 0.75rem 0 0.375rem;
}

.editor-h3 {
    color: #ef4444;
    /* red-500 - Rojo */
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0.5rem 0 0.25rem;
}

/* ─────────────────────────────────────────────────────────────────────────────
   TOAST NOTIFICATIONS
   ───────────────────────────────────────────────────────────────────────────── */
.toast {
    animation: toast-in 0.3s ease, toast-out 0.3s ease 2.7s forwards;
}

@keyframes toast-in {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes toast-out {
    from {
        opacity: 1;
        transform: translateY(0);
    }

    to {
        opacity: 0;
        transform: translateY(20px);
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   FADE IN ANIMATION
   ───────────────────────────────────────────────────────────────────────────── */
.animate-fade-in {
    animation: fadeIn 0.3s ease forwards;
}

/* ─────────────────────────────────────────────────────────────────────────────
   RICH EDITOR STYLES
   ───────────────────────────────────────────────────────────────────────────── */
.rich-editor {
    line-height: 1.6;
}

.rich-editor h1 {
    color: #10b981;
    /* Verde */
}

.rich-editor h2 {
    color: #eab308;
    /* Amarillo */
}

.rich-editor h3 {
    color: #ef4444;
    /* Rojo */
}

.rich-editor code {
    background-color: #1e293b;
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.875em;
    color: #f472b6;
    /* pink-400 */
}

.rich-editor pre {
    background-color: #0f172a;
    border: 1px solid #334155;
    border-radius: 0.5rem;
    padding: 1rem;
    overflow-x: auto;
}

.rich-editor ul,
.rich-editor ol {
    padding-left: 1.5rem;
    margin: 0.5rem 0;
}

.rich-editor li {
    margin: 0.25rem 0;
}

/* ─────────────────────────────────────────────────────────────────────────────
   AI SIDEBAR STYLES
   ───────────────────────────────────────────────────────────────────────────── */
.ai-message {
    animation: message-in 0.3s ease;
}

@keyframes message-in {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ─────────────────────────────────────────────────────────────────────────────
   PAGINATION STYLES
   ───────────────────────────────────────────────────────────────────────────── */
.pagination-btn {
    transition: all 0.2s ease;
}

.pagination-btn:not(:disabled):hover {
    transform: translateY(-2px);
}

.pagination-btn:disabled {
    cursor: not-allowed;
    opacity: 0.5;
}

/* ─────────────────────────────────────────────────────────────────────────────
   VERSION HISTORY STYLES
   ───────────────────────────────────────────────────────────────────────────── */
.version-item {
    transition: all 0.2s ease;
}

.version-item:hover {
    transform: translateX(4px);
}

/* ═══════════════════════════════════════════════════════════════════════════
   EASYMDE CUSTOM STYLES (Notion Dark Theme)
   ═══════════════════════════════════════════════════════════════════════════ */
.EasyMDEContainer {
    background: transparent !important;
    border: none !important;
}

.editor-toolbar {
    background-color: rgba(15, 23, 42, 0.8) !important;
    /* bg-slate-900/80 */
    border: 1px solid rgba(51, 65, 85, 0.5) !important;
    /* border-slate-700/50 */
    border-radius: 0.75rem !important;
    padding: 0.5rem !important;
    position: sticky !important;
    top: 0;
    z-index: 20;
    backdrop-filter: blur(12px);
    margin-bottom: 1rem !important;
}

.editor-toolbar button {
    color: #94a3b8 !important;
    /* text-slate-400 */
    border: none !important;
    border-radius: 0.5rem !important;
    transition: all 0.2s ease;
}

.editor-toolbar button:hover,
.editor-toolbar button.active {
    background-color: rgba(51, 65, 85, 0.5) !important;
    /* bg-slate-700/50 */
    color: #f8fafc !important;
    /* text-slate-50 */
}

.editor-toolbar i.separator {
    border-right: 1px solid rgba(51, 65, 85, 0.5) !important;
    margin: 0 6px !important;
}

.CodeMirror {
    background: transparent !important;
    border: none !important;
    color: #cbd5e1 !important;
    /* text-slate-300 */
    font-family: 'JetBrains Mono', monospace !important;
    font-size: 1rem !important;
    line-height: 1.75 !important;
    padding: 0 !important;
}

.CodeMirror-cursor {
    border-left: 2px solid #6366f1 !important;
    /* Indigo cursor */
}

/* Fix Selection Background (No more white selection) */
.CodeMirror-selected {
    background-color: rgba(99, 102, 241, 0.3) !important;
    /* Indigo selection */
}

.CodeMirror-focused .CodeMirror-selected {
    background-color: rgba(99, 102, 241, 0.4) !important;
}

.CodeMirror-line::selection,
.CodeMirror-line>span::selection,
.CodeMirror-line>span>span::selection {
    background-color: rgba(99, 102, 241, 0.3) !important;
}

/* Headers visuales en el editor */
.cm-header-1 {
    font-size: 1.75em;
    font-weight: 700;
    color: #10b981 !important;
    line-height: 1.5;
}

.cm-header-2 {
    font-size: 1.5em;
    font-weight: 600;
    color: #facc15 !important;
    line-height: 1.5;
}

.cm-header-3 {
    font-size: 1.25em;
    font-weight: 600;
    color: #fb7185 !important;
    line-height: 1.5;
}

.cm-strong {
    color: #f8fafc !important;
    font-weight: 700;
}

.cm-em {
    color: #94a3b8 !important;
    font-style: italic;
}

.cm-quote {
    color: #64748b !important;
    font-style: italic;
}

/* Ocultar elementos innecesarios */
.editor-statusbar {
    display: none !important;
}

/* ─────────────────────────────────────────────────────────────────────────────
   EASYMDE PREVIEW & SIDE-BY-SIDE FIXES
   ───────────────────────────────────────────────────────────────────────────── */
.editor-preview,
.editor-preview-side {
    background-color: #0f172a !important;
    /* bg-slate-900 */
    color: #cbd5e1 !important;
    /* text-slate-300 */
    border-color: #334155 !important;
    /* border-slate-700 */
    font-family: 'Inter', sans-serif !important;
    padding: 2rem !important;
    line-height: 1.6 !important;
}

/* Forzar tamaños en PREVIEW para que no se vean planos */
.editor-preview h1,
.editor-preview-side h1 {
    font-size: 2em !important;
    font-weight: 800 !important;
    color: #10b981 !important;
    border-bottom: 1px solid #334155;
    padding-bottom: 0.5rem;
    margin-top: 1.5rem !important;
    margin-bottom: 1rem !important;
}

.editor-preview h2,
.editor-preview-side h2 {
    font-size: 1.5em !important;
    font-weight: 700 !important;
    color: #facc15 !important;
    margin-top: 1.2rem !important;
    margin-bottom: 0.8rem !important;
}

.editor-preview h3,
.editor-preview-side h3 {
    font-size: 1.25em !important;
    font-weight: 600 !important;
    color: #fb7185 !important;
    margin-top: 1rem !important;
    margin-bottom: 0.5rem !important;
}

.editor-preview p,
.editor-preview-side p {
    margin-bottom: 1rem !important;
}

.editor-preview ul,
.editor-preview-side ul {
    list-style-type: disc !important;
    padding-left: 1.5rem !important;
    margin-bottom: 1rem !important;
}

.editor-preview ol,
.editor-preview-side ol {
    list-style-type: decimal !important;
    padding-left: 1.5rem !important;
    margin-bottom: 1rem !important;
}

/* Fix Code Blocks in Preview (Dark Background) */
.editor-preview pre,
.editor-preview-side pre {
    background-color: #020617 !important;
    /* bg-slate-950 */
    border: 1px solid #1e293b !important;
    border-radius: 0.5rem !important;
    padding: 1rem !important;
    margin: 1rem 0 !important;
    overflow-x: auto !important;
}

.editor-preview code,
.editor-preview-side code {
    background-color: transparent !important;
    color: #e2e8f0 !important;
    /* slate-200 */
    font-family: 'JetBrains Mono', monospace !important;
}

/* Fix Side-by-Side Layout */
.EasyMDEContainer.sided--no-fullscreen .CodeMirror-sided {
    width: 50% !important;
    right: 50% !important;
    /* Mover el editor a la izquierda */
    position: fixed !important;
    top: 72px !important;
    bottom: 0 !important;
    height: auto !important;
    border-right: 1px solid #334155 !important;
    z-index: 30 !important;
    background: #020617 !important;
    /* slate-950 */
}

.EasyMDEContainer .editor-preview-side {
    position: fixed !important;
    top: 72px !important;
    bottom: 0 !important;
    right: 0 !important;
    width: 50% !important;
    height: auto !important;
    z-index: 30 !important;
    border-left: none !important;
    margin: 0 !important;
}

/* ─────────────────────────────────────────────────────────────────────────────
   TYPOGRAPHY PROSE FIXES (Tailwind Plugin Simulation)
   ───────────────────────────────────────────────────────────────────────────── */
.prose {
    color: #cbd5e1;
    /* text-slate-300 */
    line-height: 1.75;
}

.prose h1 {
    color: #10b981;
    /* emerald-500 */
    font-weight: 800;
    font-size: 2.25em;
    margin-top: 0;
    margin-bottom: 0.8888889em;
    line-height: 1.1111111;
}

.prose h2 {
    color: #facc15;
    /* yellow-400 (Adjusted for dark mode contrast) or #eab308 (yellow-500) */
    font-weight: 700;
    font-size: 1.5em;
    margin-top: 2em;
    margin-bottom: 1em;
    line-height: 1.3333333;
}

.prose h3 {
    color: #fb7185;
    /* rose-400 (Adjusted) or #ef4444 (red-500) */
    font-weight: 600;
    font-size: 1.25em;
    margin-top: 1.6em;
    margin-bottom: 0.6em;
    line-height: 1.6;
}

.prose p {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
}

.prose strong {
    color: #f1f5f9;
    /* text-slate-100 */
    font-weight: 600;
}

.prose em {
    color: #e2e8f0;
    /* text-slate-200 */
    font-style: italic;
}

.prose ul,
.prose ol {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
    padding-left: 1.625em;
}

.prose ul {
    list-style-type: disc;
}

.prose ul ul {
    list-style-type: circle;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}

.prose ol {
    list-style-type: decimal;
}

.prose li {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
    padding-left: 0.375em;
}

.prose li::marker {
    color: #64748b;
    /* text-slate-500 */
}

/* Blockquotes */
.prose blockquote {
    font-weight: 500;
    font-style: italic;
    color: #94a3b8;
    /* text-slate-400 */
    border-left-width: 0.25rem;
    border-left-color: #475569;
    /* border-slate-600 */
    margin-top: 1.6em;
    margin-bottom: 1.6em;
    padding-left: 1em;
}

/* Links */
.prose a {
    color: #818cf8;
    /* text-indigo-400 */
    text-decoration: underline;
    font-weight: 500;
}

/* Code Blocks */
.prose pre {
    background-color: #020617;
    /* bg-slate-950 */
    overflow-x: auto;
    font-size: 0.875em;
    line-height: 1.7142857;
    margin-top: 1.7142857em;
    margin-bottom: 1.7142857em;
    border-radius: 0.375rem;
    padding: 0.8571429em 1.1428571em;
    border: 1px solid #1e293b;
}

.prose code {
    color: #e2e8f0;
    /* text-slate-200 */
    font-weight: 600;
    font-size: 0.875em;
    font-family: 'JetBrains Mono', monospace;
}

.prose pre code {
    background-color: transparent;
    border-width: 0;
    border-radius: 0;
    padding: 0;
    font-weight: 400;
    color: inherit;
    font-size: inherit;
    font-family: inherit;
    line-height: inherit;
}

/* Inline Code */
.prose :not(pre)>code {
    background-color: #1e293b;
    /* bg-slate-800 */
    padding: 0.2em 0.4em;
    border-radius: 0.25rem;
    color: #f472b6;
    /* text-pink-400 */
    font-weight: 400;
}

/* Images */
.prose img {
    margin-top: 2em;
    margin-bottom: 2em;
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    max-width: 100%;
    margin-left: auto;
    margin-right: auto;
}

/* Checklists (Task Lists) */
.prose ul.contains-task-list {
    list-style-type: none;
    padding-left: 0;
}

.prose li.task-list-item {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
}

.prose li.task-list-item input[type="checkbox"] {
    margin-top: 0.3em;
}

/* Hr */
.prose hr {
    border-color: #334155;
    /* border-slate-700 */
    margin-top: 3em;
    margin-bottom: 3em;
}